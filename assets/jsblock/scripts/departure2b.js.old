include(Resources.id("jsblock:scripts/pidsutils.js"));
let boardNum = 1;

function create(ctx, state, pids) {
}

function render(ctx, state, pids) {
	Texture.create("Background")
	.texture("jsblock:textures/background.png")
	.size(76, 76)
	.draw(ctx);

	PIDSUtil.lcdBackgrounds(ctx, 1.55, 9);

	departure(ctx, state, pids);
}

function dispose(ctx, state, pids) {
	//print("Goodbye, World!");
}

function departure(ctx, state, pids) {
	boardNum = PIDSUtil.getBoardNum(pids);
	let arrival = pids.arrivals().get(boardNum - 1);
	if (arrival != null) {
		let route = arrival.route().getPlatforms(); //Gets platforms of all stops of the route
		let i2 = 0; // i2 is used for positioning, as i is artificially higher

		PIDSUtil.type2Stops(arrival, route, ctx, 5, 12, 1.55)

		tocIndicator(ctx, arrival);
	}
}



